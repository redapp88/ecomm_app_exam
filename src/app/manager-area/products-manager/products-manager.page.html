<ion-content>
    <form [formGroup]="form">
        <ion-fab vertical="top" horizontal="end" slot="fixed">
            <ion-fab-button size="small" (click)="onAddProduct()">
                <ion-icon size="small" name="add"></ion-icon>
            </ion-fab-button>
        </ion-fab>


        <ion-grid  class="font-weight-bold topMargin" >
            <ion-row>
                <ion-col size="6" sizeLg="4" offsetLg="3">
                    <ion-item class="smallText">
                        <ion-label  align="left" position="floating" class="bold">
                            mot clefs
                        </ion-label>
                        <ion-input type="text" formControlName="label" class="smallText"></ion-input>
                    </ion-item>
                </ion-col>
                <ion-col size="3" offset="0" sizeLg="1" offsetLg="1">
                    <ion-button expand="full" (click)="loadProducts()">
                        <ion-icon name="search-outline"></ion-icon>
                    </ion-button>
                </ion-col>
            </ion-row>
            <ion-row class="topMargin"></ion-row>
            <div *ngIf="isLoading" align="center" class="topMargin">
                <ion-spinner class="align-middle"  ></ion-spinner>
            </div>
            <div *ngIf="!isLoading">
            <ion-row *ngFor="let product of loadedProducts" [ngClass]="{'text-red': product.quantity === 0}" >
                <ion-col size="1" sizeLg="1" offsetLg="2" class="border-bottom">
                    <ion-label class="bold">{{product.id}}</ion-label>
                </ion-col>
                <ion-col size="4" sizeLg="3"  class="border-bottom">
                    <ion-label class="bold">{{product.label}}</ion-label>
                </ion-col>
                <ion-col size="2" sizeLg="2" class="border-bottom">
                    <ion-label class="smallText">{{product.price | number:'1.2-2'}} Dhs</ion-label>
                </ion-col>
                <ion-col size="1" sizeLg="1" class="border-bottom">
                    <ion-label class="smallText">{{product.quantity}}</ion-label>
                </ion-col>
                <ion-col size="2" sizeLg="1" class="border-bottom">
                    <ion-button size="small" color="danger" (click)="onDeleteProduct(product)">
                    <ion-icon name="trash-outline"></ion-icon>
                    </ion-button>
                </ion-col>

                <ion-col size="2" sizeLg="1" class="border-bottom">
                    <ion-button size="small" color="warning"(click)="onEditProduct(product)">
                        <ion-icon name="create-outline"></ion-icon>
                    </ion-button>
                </ion-col>
            </ion-row>
            </div>
        </ion-grid>
    </form>
</ion-content>